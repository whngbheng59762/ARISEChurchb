{"version":3,"sources":["../../src/data/http.class.js"],"names":["koahub","ctx","method","header","toUpperCase","ip","name","value","set","get","code","status","query","post","file","session","options","cookies","state","host","url","redirect","data","body","msg","tpl","locals","render"],"mappings":"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","file":"http.class.js","sourcesContent":["export default class {\n\n    constructor() {\n\n    }\n\n    method() {\n        return koahub.ctx.method;\n    }\n\n    isGet() {\n        if (koahub.ctx.method == 'GET') {\n            return true;\n        }\n        return false;\n    }\n\n    isPost() {\n        if (koahub.ctx.method == 'POST') {\n            return true;\n        }\n        return false;\n    }\n\n    isAjax() {\n        return this.header('X-Requested-With') === 'XMLHttpRequest';\n    }\n\n    isPjax() {\n        return this.header('X-PJAX') || false;\n    }\n\n    isMethod(method) {\n        return koahub.ctx.method === method.toUpperCase();\n    }\n\n    ip() {\n        return koahub.ctx.ip;\n    }\n\n    header(name, value) {\n        if (value) {\n            koahub.ctx.set(name, value);\n        } else {\n            return koahub.ctx.get(name);\n        }\n    }\n\n    status(code) {\n        if (code) {\n            koahub.ctx.status = code;\n        } else {\n            return koahub.ctx.status;\n        }\n    }\n\n    get(name) {\n        if (name) {\n            return koahub.ctx.query[name];\n        } else {\n            return koahub.ctx.query;\n        }\n    }\n\n    post(name) {\n        if (name) {\n            return koahub.ctx.post[name];\n        } else {\n            return koahub.ctx.post;\n        }\n    }\n\n    file(name) {\n        if (name) {\n            return koahub.ctx.file[name];\n        } else {\n            return koahub.ctx.file;\n        }\n    }\n\n    session(name, value) {\n        if (name) {\n            if (value) {\n                koahub.ctx.session[name] = value;\n            } else {\n                return koahub.ctx.session[name];\n            }\n        } else {\n            return koahub.ctx.session;\n        }\n    }\n\n    cookie() {\n        return {\n            get: function (name, options) {\n                return koahub.ctx.cookies.get(name, options);\n            },\n            set: function (name, value, options) {\n                return koahub.ctx.cookies.set(name, value, options);\n            }\n        }\n    }\n\n    state(name, value) {\n        if (name) {\n            if (value) {\n                koahub.ctx.state[name] = value;\n            } else {\n                return koahub.ctx.state[name];\n            }\n        } else {\n            return koahub.ctx.state;\n        }\n    }\n\n    host() {\n        return koahub.ctx.host;\n    }\n\n    redirect(url) {\n        koahub.ctx.redirect(url);\n    }\n\n    view(data) {\n        koahub.ctx.body = data;\n    }\n\n    json(data, msg = '') {\n        koahub.ctx.body = {\n            data: data,\n            msg: msg\n        };\n        koahub.ctx.body.code = koahub.ctx.status;\n    }\n\n    async render(tpl, locals) {\n        await koahub.ctx.render(tpl, locals);\n    }\n}"]}
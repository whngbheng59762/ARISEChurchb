{"version":3,"sources":["../../src/data/http.class.js"],"names":["koahub","ctx","method","header","toUpperCase","ip","name","value","set","get","code","status","query","host","url","redirect","data","body","msg"],"mappings":";;;;;;;;;;;;;;;;;AAEI,sBAAc;AAAA;AAEb;;;;iCAEQ;AACL,mBAAOA,OAAOC,GAAP,CAAWC,MAAlB;AACH;;;gCAEO;AACJ,gBAAIF,OAAOC,GAAP,CAAWC,MAAX,IAAqB,KAAzB,EAAgC;AAC5B,uBAAO,IAAP;AACH;AACD,mBAAO,KAAP;AACH;;;iCAEQ;AACL,gBAAIF,OAAOC,GAAP,CAAWC,MAAX,IAAqB,MAAzB,EAAiC;AAC7B,uBAAO,IAAP;AACH;AACD,mBAAO,KAAP;AACH;;;iCAEQ;AACL,mBAAO,KAAKC,MAAL,CAAY,kBAAZ,MAAoC,gBAA3C;AACH;;;iCAEQ;AACL,mBAAO,KAAKA,MAAL,CAAY,QAAZ,KAAyB,KAAhC;AACH;;;iCAEQD,M,EAAQ;AACb,mBAAOF,OAAOC,GAAP,CAAWC,MAAX,KAAsBA,OAAOE,WAAP,EAA7B;AACH;;;6BAEI;AACD,mBAAOJ,OAAOC,GAAP,CAAWI,EAAlB;AACH;;;+BAEMC,I,EAAMC,K,EAAO;AAChB,gBAAIA,KAAJ,EAAW;AACPP,uBAAOC,GAAP,CAAWO,GAAX,CAAeF,IAAf,EAAqBC,KAArB;AACH,aAFD,MAEO;AACH,uBAAOP,OAAOC,GAAP,CAAWQ,GAAX,CAAeH,IAAf,CAAP;AACH;AACJ;;;+BAEMI,I,EAAM;AACT,gBAAIA,IAAJ,EAAU;AACNV,uBAAOC,GAAP,CAAWU,MAAX,GAAoBD,IAApB;AACH,aAFD,MAEO;AACH,uBAAOV,OAAOC,GAAP,CAAWU,MAAlB;AACH;AACJ;;;4BAEGL,I,EAAM;AACN,mBAAON,OAAOC,GAAP,CAAWW,KAAX,CAAiBN,IAAjB,CAAP;AACH;;;+BAEM;AACH,mBAAON,OAAOC,GAAP,CAAWY,IAAlB;AACH;;;iCAEQC,G,EAAK;AACVd,mBAAOC,GAAP,CAAWc,QAAX,CAAoBD,GAApB;AACH;;;6BAEIE,I,EAAM;AACPhB,mBAAOC,GAAP,CAAWgB,IAAX,GAAkBD,IAAlB;AACH;;;6BAEIA,I,EAAgB;AAAA,gBAAVE,GAAU,uEAAJ,EAAI;;AACjBlB,mBAAOC,GAAP,CAAWgB,IAAX,GAAkB;AACdD,sBAAMA,IADQ;AAEdE,qBAAKA;AAFS,aAAlB;AAIAlB,mBAAOC,GAAP,CAAWgB,IAAX,CAAgBP,IAAhB,GAAuBV,OAAOC,GAAP,CAAWU,MAAlC;AACH","file":"http.class.js","sourcesContent":["export default class {\n\n    constructor() {\n\n    }\n\n    method() {\n        return koahub.ctx.method;\n    }\n\n    isGet() {\n        if (koahub.ctx.method == 'GET') {\n            return true;\n        }\n        return false;\n    }\n\n    isPost() {\n        if (koahub.ctx.method == 'POST') {\n            return true;\n        }\n        return false;\n    }\n\n    isAjax() {\n        return this.header('X-Requested-With') === 'XMLHttpRequest';\n    }\n\n    isPjax() {\n        return this.header('X-PJAX') || false;\n    }\n\n    isMethod(method) {\n        return koahub.ctx.method === method.toUpperCase();\n    }\n\n    ip() {\n        return koahub.ctx.ip;\n    }\n\n    header(name, value) {\n        if (value) {\n            koahub.ctx.set(name, value);\n        } else {\n            return koahub.ctx.get(name);\n        }\n    }\n\n    status(code) {\n        if (code) {\n            koahub.ctx.status = code;\n        } else {\n            return koahub.ctx.status;\n        }\n    }\n\n    get(name) {\n        return koahub.ctx.query[name];\n    }\n\n    host() {\n        return koahub.ctx.host;\n    }\n\n    redirect(url) {\n        koahub.ctx.redirect(url);\n    }\n\n    view(data) {\n        koahub.ctx.body = data;\n    }\n\n    json(data, msg = '') {\n        koahub.ctx.body = {\n            data: data,\n            msg: msg\n        };\n        koahub.ctx.body.code = koahub.ctx.status;\n    }\n}"]}
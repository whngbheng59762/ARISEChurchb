{"version":3,"sources":["../../src/data/http.class.js"],"names":["ctx","next","undefined","Error","method","header","toUpperCase","ip","name","value","set","get","code","status","query","post","file","session","options","cookies","state","host","url","redirect","data","body","msg","tpl","locals","render"],"mappings":"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","file":"http.class.js","sourcesContent":["export default class {\n\n    constructor(ctx, next) {\n        if (ctx == undefined) {\n            throw new Error('SyntaxError: missing super(ctx) call in constructor');\n            return;\n        }\n        this.ctx = ctx;\n    }\n\n    method() {\n        return this.ctx.method;\n    }\n\n    isGet() {\n        if (this.ctx.method == 'GET') {\n            return true;\n        }\n        return false;\n    }\n\n    isPost() {\n        if (this.ctx.method == 'POST') {\n            return true;\n        }\n        return false;\n    }\n\n    isAjax() {\n        return this.header('X-Requested-With') === 'XMLHttpRequest';\n    }\n\n    isPjax() {\n        return this.header('X-PJAX') || false;\n    }\n\n    isMethod(method) {\n        return this.ctx.method === method.toUpperCase();\n    }\n\n    ip() {\n        return this.ctx.ip;\n    }\n\n    header(name, value) {\n        if (value != undefined) {\n            this.ctx.set(name, value);\n        } else {\n            return this.ctx.get(name);\n        }\n    }\n\n    status(code) {\n        if (code != undefined) {\n            this.ctx.status = code;\n        } else {\n            return this.ctx.status;\n        }\n    }\n\n    get(name) {\n        if (name != undefined) {\n            return this.ctx.query[name];\n        } else {\n            return this.ctx.query;\n        }\n    }\n\n    post(name) {\n        if (name != undefined) {\n            return this.ctx.post[name];\n        } else {\n            return this.ctx.post;\n        }\n    }\n\n    file(name) {\n        if (name != undefined) {\n            return this.ctx.file[name];\n        } else {\n            return this.ctx.file;\n        }\n    }\n\n    session(name, value) {\n        if (name != undefined) {\n            if (value != undefined) {\n                this.ctx.session[name] = value;\n            } else {\n                return this.ctx.session[name];\n            }\n        } else {\n            return this.ctx.session;\n        }\n    }\n\n    cookie() {\n        return {\n            get: function (name, options) {\n                return this.ctx.cookies.get(name, options);\n            },\n            set: function (name, value, options) {\n                return this.ctx.cookies.set(name, value, options);\n            }\n        }\n    }\n\n    state(name, value) {\n        if (name != undefined) {\n            if (value != undefined) {\n                this.ctx.state[name] = value;\n            } else {\n                return this.ctx.state[name];\n            }\n        } else {\n            return this.ctx.state;\n        }\n    }\n\n    host() {\n        return this.ctx.host;\n    }\n\n    redirect(url) {\n        this.ctx.redirect(url);\n    }\n\n    view(data) {\n        this.ctx.body = data;\n    }\n\n    json(data, msg, code) {\n\n        let body = {};\n\n        if (data != undefined) {\n            body.data = data;\n        }\n        if (msg != undefined) {\n            body.msg = msg;\n        }\n        if (code != undefined) {\n            body.code = code;\n        }\n\n        this.ctx.body = body;\n    }\n\n    async render(tpl, locals) {\n        await this.ctx.render(tpl, locals);\n    }\n}"]}
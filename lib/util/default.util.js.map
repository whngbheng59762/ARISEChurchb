{"version":3,"sources":["../../src/util/default.util.js"],"names":["isGeneratorFunction","expressMiddlewareToKoaMiddleware","fn","constructor","name","ctx","next","length","req","res","resolve","reject","err"],"mappings":";;;;;;;;;;QAMgBA,mB,GAAAA,mB;QAWAC,gC,GAAAA,gC;;;;AAjBhB;;;;;;AAMO,SAASD,mBAAT,CAA6BE,EAA7B,EAAiC;AACpC,WAAO,OAAOA,EAAP,KAAc,UAAd,IACHA,GAAGC,WADA,IAEHD,GAAGC,WAAH,CAAeC,IAAf,KAAwB,mBAF5B;AAGH;;AAED;;;;;AAKO,SAASH,gCAAT,CAA0CC,EAA1C,EAA8C;AACjD,WAAO,UAAUG,GAAV,EAAeC,IAAf,EAAqB;AACxB,YAAIJ,GAAGK,MAAH,GAAY,CAAhB,EAAmB;AACfL,eAAGG,IAAIG,GAAP,EAAYH,IAAII,GAAhB;AACA,mBAAOH,MAAP;AACH,SAHD,MAGO;AACH,mBAAO,sBAAY,UAACI,OAAD,EAAUC,MAAV,EAAqB;AACpCT,mBAAGG,IAAIG,GAAP,EAAYH,IAAII,GAAhB,EAAqB,eAAO;AACxB,wBAAIG,GAAJ,EAASD,OAAOC,GAAP,EAAT,KACKF,QAAQJ,MAAR;AACR,iBAHD;AAIH,aALM,CAAP;AAMH;AACJ,KAZD;AAaH","file":"default.util.js","sourcesContent":["/**\n * Check whether a function is generator.\n *\n * @param  {Function} fn\n * @return {Boolean}\n */\nexport function isGeneratorFunction(fn) {\n    return typeof fn === 'function' &&\n        fn.constructor &&\n        fn.constructor.name === 'GeneratorFunction'\n}\n\n/**\n * Parase express middleware to koa middleware\n * @param fn\n * @returns {Function}\n */\nexport function expressMiddlewareToKoaMiddleware(fn) {\n    return function (ctx, next) {\n        if (fn.length < 3) {\n            fn(ctx.req, ctx.res);\n            return next();\n        } else {\n            return new Promise((resolve, reject) => {\n                fn(ctx.req, ctx.res, err => {\n                    if (err) reject(err)\n                    else resolve(next())\n                })\n            })\n        }\n    }\n}"]}